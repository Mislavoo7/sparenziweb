// Replace the element based on the data attribute (without jQuery)
document.querySelectorAll(`[data-lists-id="<%= dom_id(@list) %>"]`).forEach(element => {
  // Create a new temporary div to hold the rendered HTML
  const tempDiv = document.createElement('div');
  tempDiv.innerHTML = `<%= j render 'user/lists/list', list: @list %>`;

  // Replace the old element with the new content
  element.replaceWith(tempDiv.firstElementChild);
});


// Dispatch the custom event for the toast message
document.dispatchEvent(new CustomEvent('dispatch-toast', { 
  detail: { 
    message: '<%= @list.is_visible ? t("list.is_now_visible") : t("list.is_now_invisible") %>', 
    type: 'success' 
  } 
}));
